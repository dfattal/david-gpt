# Legal Expert Persona Processing Constraints
# Specialized for legal documents, case law, and regulatory materials

# Document Types
required_doc_types:
  - legal-doc
  - case-law
  - statute
  - legal-brief
  - paper
  - book

# Chunk Constraints
abstract_max_words: 250  # Longer for legal summaries
metadata_chunk_max_chars: 1500  # More metadata for legal context
content_chunk_min_chars: 1000   # Longer chunks for legal continuity
content_chunk_max_chars: 2500   # Preserve legal argument flow
chunk_overlap_percentage: 20    # More overlap for legal context

# Knowledge Graph Requirements
kg_required_entities:
  - person         # Judges, attorneys, parties
  - organization   # Courts, law firms, corporations
  - legal_concept  # Legal doctrines, causes of action
  - statute        # Laws, regulations
  - case          # Legal precedents

kg_required_edges:
  - represents
  - adjudicates
  - cites_precedent
  - appeals
  - overrules
  - affirms
  - distinguishes
  - plaintiff_v_defendant
  - regulated_by
  - licensed_by

# Additional Identifiers (Legal specific)
extra_identifiers:
  - case_number
  - docket_number
  - legal_citation
  - statute_section
  - regulation_number
  - court_level

# Quality Gates
require_document_url_if_available: true
min_entities_per_document: 5      # Legal docs have many entities
min_edges_per_document: 3         # Complex relationships
require_evidence_for_edges: true
require_legal_citations: true

# Document Type Specific Overrides
doctype_overrides:
  legal-doc:
    require_case_number: true
    require_court_name: true
    require_parties: true
    require_legal_citation: true
  case-law:
    require_court_level: true
    require_judges: true
    require_decision_date: true
    require_precedential_value: true
  statute:
    require_jurisdiction: true
    require_effective_date: true
    require_statutory_citation: true
  legal-brief:
    require_case_number: true
    require_filing_date: true
    require_attorney_info: true

# Processing Preferences
default_processor: gemini  # Good for legal text analysis
fallback_processors:
  - pdf     # Many legal docs are PDFs
  - html    # Court websites
  - exa     # For legal research

# Quality Thresholds (High standards for legal accuracy)
quality_gates:
  min_completion_percentage: 95   # Legal precision required
  max_error_rate: 2              # Very low tolerance for errors
  require_metadata_chunk: true
  require_content_chunks: true
  min_citation_coverage: 98      # Citations are critical
  require_legal_accuracy: true
  verify_citations: true

# Domain-Specific Entity Patterns
entity_patterns:
  legal_concept:
    - "due process"
    - "reasonable doubt"
    - "preponderance of evidence"
    - "strict liability"
    - "negligence"
  court:
    - "Supreme Court"
    - "Court of Appeals"
    - "District Court"
    - "Federal Circuit"
  legal_doctrine:
    - "stare decisis"
    - "res judicata"
    - "habeas corpus"
    - "prima facie"

# Citation Requirements
citation_format: bluebook
require_parallel_citations: true
verify_case_law_current: true
check_statutory_updates: true